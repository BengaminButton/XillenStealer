<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>XillenStealer V5 - Control Panel</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/@tabler/icons-webfont@latest/dist/tabler-icons.min.css" rel="stylesheet">
    <style>
        :root {
            --tabler-body-bg: #1e1e2e;
            --tabler-body-color: #d8d8d8;
            --tabler-primary: #00d4aa;
            --tabler-secondary: #6c757d;
        }
        
        body {
            background: var(--tabler-body-bg);
            color: var(--tabler-body-color);
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }
        
        .sidebar {
            position: fixed;
            top: 0;
            left: 0;
            height: 100vh;
            width: 280px;
            background: #0f0f1e;
            color: white;
            overflow-y: auto;
            z-index: 1000;
        }
        
        .sidebar-brand {
            padding: 1.5rem;
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--tabler-primary);
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }
        
        .sidebar-item {
            padding: 0.75rem 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.75rem;
            color: rgba(255,255,255,0.7);
            text-decoration: none;
            transition: all 0.2s;
        }
        
        .sidebar-item:hover {
            background: rgba(255,255,255,0.05);
            color: white;
        }
        
        .sidebar-item.active {
            background: rgba(0, 212, 170, 0.1);
            color: var(--tabler-primary);
            border-left: 3px solid var(--tabler-primary);
        }
        
        .main-content {
            margin-left: 280px;
            padding: 2rem;
        }
        
        .stats-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 12px;
            padding: 1.5rem;
            color: white;
            margin-bottom: 1.5rem;
        }
        
        .stats-card.primary { background: linear-gradient(135deg, #00d4aa 0%, #00a67e 100%); }
        .stats-card.danger { background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); }
        .stats-card.warning { background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); }
        .stats-card.success { background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%); }
        
        .stats-value {
            font-size: 2rem;
            font-weight: bold;
        }
        
        .stats-label {
            opacity: 0.9;
            font-size: 0.9rem;
        }
        
        .table-dark {
            background: #2a2a3e;
            color: white;
        }
        
        .table-dark td, .table-dark th {
            border-color: rgba(255,255,255,0.1);
        }
        
        .badge-custom {
            padding: 0.25rem 0.75rem;
            border-radius: 12px;
            font-size: 0.85rem;
        }
        
        .world-map {
            background: #2a2a3e;
            border-radius: 12px;
            padding: 1.5rem;
            height: 400px;
        }
        
        .chart-container {
            background: #2a2a3e;
            border-radius: 12px;
            padding: 1.5rem;
            height: 300px;
        }
    </style>
</head>
<body>
    <!-- Sidebar -->
    <div class="sidebar">
        <div class="sidebar-brand">üî• XILLEN V5</div>
        
        <a href="#dashboard" class="sidebar-item active">
            <i class="ti ti-home"></i>
            <span>–ì–ª–∞–≤–Ω–∞—è</span>
        </a>
        
        <a href="#logs" class="sidebar-item">
            <i class="ti ti-file-text"></i>
            <span>–õ–æ–≥–∏</span>
        </a>
        
        <a href="#export" class="sidebar-item">
            <i class="ti ti-download"></i>
            <span>–í—ã–≥—Ä—É–∑–∫–∞</span>
        </a>
        
        <a href="#credentials" class="sidebar-item">
            <i class="ti ti-credit-card"></i>
            <span>–ö—Ä–µ–¥—ã</span>
        </a>
        
        <a href="#workers" class="sidebar-item">
            <i class="ti ti-users"></i>
            <span>–í–æ—Ä–∫–µ—Ä—ã</span>
        </a>
        
        <a href="#proxies" class="sidebar-item">
            <i class="ti ti-network"></i>
            <span>–ü—Ä–æ–∫–ª–∞–¥–∫–∏</span>
        </a>
        
        <a href="#config" class="sidebar-item">
            <i class="ti ti-settings"></i>
            <span>–ö–æ–Ω—Ñ–∏–≥</span>
        </a>
        
        <a href="#build" class="sidebar-item">
            <i class="ti ti-tool"></i>
            <span>–ë–∏–ª–¥</span>
        </a>
        
        <a href="#telegram" class="sidebar-item">
            <i class="ti ti-send"></i>
            <span>–¢–µ–ª–µ–≥—Ä–∞–º</span>
        </a>
        
        <a href="#settings" class="sidebar-item">
            <i class="ti ti-adjustments"></i>
            <span>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</span>
        </a>
        
        <a href="#help" class="sidebar-item">
            <i class="ti ti-help"></i>
            <span>–°–ø—Ä–∞–≤–∫–∞</span>
        </a>
    </div>
    
    <!-- Main Content -->
    <div class="main-content">
        <!-- Header -->
        <div class="d-flex justify-content-between align-items-center mb-4">
            <h1>üî• XillenStealer V5 - Dashboard</h1>
            <div class="d-flex align-items-center gap-3">
                <span class="badge bg-success">Premium</span>
                <span class="text-muted">brainscloud</span>
            </div>
        </div>
        
        <!-- Stats Cards -->
        <div class="row mb-4">
            <div class="col-md-4">
                <div class="stats-card primary">
                    <div class="d-flex justify-content-between align-items-center">
                        <div>
                            <div class="stats-value" id="total-infected">0</div>
                            <div class="stats-label">üìä –ó–∞—Ä–∞–∂—ë–Ω–Ω—ã—Ö</div>
                        </div>
                        <i class="ti ti-user" style="font-size: 3rem; opacity: 0.3;"></i>
                    </div>
                    <small class="d-block mt-2">+<span id="infected-24h">0</span> –∑–∞ 24—á</small>
                </div>
            </div>
            
            <div class="col-md-4">
                <div class="stats-card success">
                    <div class="d-flex justify-content-between align-items-center">
                        <div>
                            <div class="stats-value" id="total-passwords">0</div>
                            <div class="stats-label">üîë –ü–∞—Ä–æ–ª–µ–π</div>
                        </div>
                        <i class="ti ti-lock" style="font-size: 3rem; opacity: 0.3;"></i>
                    </div>
                    <small class="d-block mt-2">+<span id="passwords-24h">0</span> –∑–∞ 24—á</small>
                </div>
            </div>
            
            <div class="col-md-4">
                <div class="stats-card warning">
                    <div class="d-flex justify-content-between align-items-center">
                        <div>
                            <div class="stats-value" id="total-cookies">0</div>
                            <div class="stats-label">üç™ –ö—É–∫</div>
                        </div>
                        <i class="ti ti-cookie" style="font-size: 3rem; opacity: 0.3;"></i>
                    </div>
                    <small class="d-block mt-2">+<span id="cookies-24h">0</span> –∑–∞ 24—á</small>
                </div>
            </div>
        </div>
        
        <div class="row mb-4">
            <div class="col-md-3">
                <div class="stats-card danger">
                    <div class="stats-value" id="total-cards">0</div>
                    <div class="stats-label">üí≥ –ö–∞—Ä—Ç</div>
                    <small class="d-block mt-1">+<span id="cards-24h">0</span> –∑–∞ 24—á</small>
                </div>
            </div>
            
            <div class="col-md-3">
                <div class="stats-card">
                    <div class="stats-value" id="total-wallets">0</div>
                    <div class="stats-label">üí∞ –ö–æ—à–µ–ª—å–∫–æ–≤</div>
                    <small class="d-block mt-1">+<span id="wallets-24h">0</span> –∑–∞ 24—á</small>
                </div>
            </div>
            
            <div class="col-md-3">
                <div class="stats-card success">
                    <div class="stats-value" id="total-apps">0</div>
                    <div class="stats-label">üì± –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–π</div>
                    <small class="d-block mt-1">+<span id="apps-24h">0</span> –∑–∞ 24—á</small>
                </div>
            </div>
            
            <div class="col-md-3">
                <div class="stats-card warning">
                    <div class="stats-value" id="total-data">0 MB</div>
                    <div class="stats-label">üíæ –î–∞–Ω–Ω—ã—Ö</div>
                    <small class="d-block mt-1">+<span id="data-24h">0</span> MB –∑–∞ 24—á</small>
                </div>
            </div>
        </div>
        
        <!-- Charts Row -->
        <div class="row mb-4">
            <div class="col-md-8">
                <div class="chart-container">
                    <h5 class="mb-3">üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞ 24 —á–∞—Å–∞</h5>
                    <canvas id="statsChart"></canvas>
                </div>
            </div>
            
            <div class="col-md-4">
                <div class="world-map">
                    <h5 class="mb-3">üåç –ì–µ–æ–≥—Ä–∞—Ñ–∏—è</h5>
                    <div id="topCountries"></div>
                </div>
            </div>
        </div>
        
        <!-- Recent Logs -->
        <div class="card" style="background: #2a2a3e; color: white; border: none;">
            <div class="card-header" style="background: #1e1e2e; border: none;">
                <h5 class="mb-0">üìã –ü–æ—Å–ª–µ–¥–Ω–∏–µ –ª–æ–≥–∏</h5>
            </div>
            <div class="card-body">
                <div class="table-responsive">
                    <table class="table table-dark table-hover" style="margin: 0;">
                        <thead>
                            <tr>
                                <th>–§–ª–∞–≥</th>
                                <th>–°—Ç—Ä–∞–Ω–∞</th>
                                <th>IP</th>
                                <th>–¢–µ–≥</th>
                                <th>–ü–∞—Ä–æ–ª–∏</th>
                                <th>–ö—É–∫–∏</th>
                                <th>–ö–∞—Ä—Ç—ã</th>
                                <th>–ö–æ—à–µ–ª—å–∫–∏</th>
                                <th>–ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è</th>
                                <th>–î–∞—Ç–∞</th>
                                <th>–î–µ–π—Å—Ç–≤–∏—è</th>
                            </tr>
                        </thead>
                        <tbody id="logsTable">
                            <!-- Will be populated by JS -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <script>
                 // API base URL
         const API_BASE = 'http://localhost:8000';
         
         // Stats update function
         async function updateStats() {
             try {
                 const response = await fetch(`${API_BASE}/api/stats`);
                 const stats = await response.json();
                 
                 document.getElementById('total-infected').textContent = stats.totalInfected.toLocaleString();
                 document.getElementById('infected-24h').textContent = '+' + stats.infected24h;
                 document.getElementById('total-passwords').textContent = stats.totalPasswords.toLocaleString();
                 document.getElementById('passwords-24h').textContent = '+' + stats.passwords24h;
                 document.getElementById('total-cookies').textContent = stats.totalCookies.toLocaleString();
                 document.getElementById('cookies-24h').textContent = '+' + stats.cookies24h;
                 document.getElementById('total-cards').textContent = stats.totalCards.toLocaleString();
                 document.getElementById('cards-24h').textContent = '+' + stats.cards24h;
                 document.getElementById('total-wallets').textContent = stats.totalWallets.toLocaleString();
                 document.getElementById('wallets-24h').textContent = '+' + stats.wallets24h;
                 document.getElementById('total-apps').textContent = stats.totalApps.toLocaleString();
                 document.getElementById('apps-24h').textContent = '+' + stats.apps24h;
                 document.getElementById('total-data').textContent = stats.totalData.toLocaleString() + ' MB';
                 document.getElementById('data-24h').textContent = '+' + stats.data24h;
             } catch (error) {
                 console.error('Failed to fetch stats:', error);
             }
         }
        
        // Chart
        const ctx = document.getElementById('statsChart');
        new Chart(ctx, {
            type: 'line',
            data: {
                labels: Array.from({length: 24}, (_, i) => (i + 1) + ':00'),
                datasets: [
                    {
                        label: '–õ–æ–≥–∏',
                        data: Array.from({length: 24}, () => Math.random() * 100 + 50),
                        borderColor: '#00d4aa',
                        backgroundColor: 'rgba(0, 212, 170, 0.1)'
                    },
                    {
                        label: '–ü–∞—Ä–æ–ª–∏',
                        data: Array.from({length: 24}, () => Math.random() * 200 + 100),
                        borderColor: '#43e97b',
                        backgroundColor: 'rgba(67, 233, 123, 0.1)'
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        labels: { color: '#d8d8d8' }
                    }
                },
                scales: {
                    y: { ticks: { color: '#d8d8d8' }, grid: { color: 'rgba(255,255,255,0.1)' } },
                    x: { ticks: { color: '#d8d8d8' }, grid: { color: 'rgba(255,255,255,0.1)' } }
                }
            }
        });
        
                 // Load logs from API
         async function loadLogs() {
             try {
                 const response = await fetch(`${API_BASE}/api/logs`);
                 const data = await response.json();
                 renderLogs(data.logs);
             } catch (error) {
                 console.error('Failed to fetch logs:', error);
             }
         }
         
         function renderLogs(logs) {
             const tbody = document.getElementById('logsTable');
             if (!logs || logs.length === 0) {
                 tbody.innerHTML = '<tr><td colspan="11" class="text-center">–ù–µ—Ç –ª–æ–≥–æ–≤</td></tr>';
                 return;
             }
             
             tbody.innerHTML = logs.map(log => `
                 <tr>
                     <td>${log.country}</td>
                     <td>${log.country}</td>
                     <td>${log.ip}</td>
                     <td><span class="badge bg-success badge-custom">${log.tag}</span></td>
                     <td><span style="color: #f093fb;">${log.passwords}</span></td>
                     <td><span style="color: #f5576c;">${log.cookies}</span></td>
                     <td><span style="color: #00f2fe;">${log.cards}</span></td>
                     <td><span style="color: #43e97b;">${log.wallets}</span></td>
                     <td><span style="color: #764ba2;">${log.apps}</span></td>
                     <td>${log.date}</td>
                     <td>
                         <button class="btn btn-sm btn-success" onclick="downloadLog('${log.uuid}')"><i class="ti ti-download"></i></button>
                         <button class="btn btn-sm btn-danger" onclick="deleteLog('${log.uuid}')"><i class="ti ti-trash"></i></button>
                     </td>
                 </tr>
             `).join('');
         }
         
         async function deleteLog(uuid) {
             if (!confirm('–£–¥–∞–ª–∏—Ç—å —ç—Ç–æ—Ç –ª–æ–≥?')) return;
             try {
                 await fetch(`${API_BASE}/api/log/${uuid}`, { method: 'DELETE' });
                 loadLogs();
                 updateStats();
             } catch (error) {
                 console.error('Failed to delete log:', error);
             }
         }
         
         async function downloadLog(uuid) {
             alert('–§—É–Ω–∫—Ü–∏—è –≤—ã–≥—Ä—É–∑–∫–∏ –ª–æ–≥–∞: ' + uuid);
         }
        
                 // Initialize
         updateStats();
         loadLogs();
         
         // Auto-refresh every 5 seconds
         setInterval(() => {
             updateStats();
             loadLogs();
         }, 5000);
    </script>
</body>
</html>
